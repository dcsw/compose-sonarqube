-- Oracle Full Example DDL Script
CREATE TABLE Customers (
    CustomerID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    Name NVARCHAR2(100) NOT NULL,
    Email NVARCHAR2(100) NOT NULL UNIQUE,
    CreatedDate DATE DEFAULT SYSDATE NOT NULL
);

CREATE TABLE Orders (
    OrderID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    CustomerID NUMBER NOT NULL,
    OrderDate DATE DEFAULT SYSDATE NOT NULL,
    TotalAmount NUMBER(10, 2) NOT NULL,
    CONSTRAINT fk_Customer FOREIGN KEY (CustomerID) REFERENCES Customers(CustomerID)
);

CREATE TABLE OrderItems (
    OrderItemID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    OrderID NUMBER NOT NULL,
    Product NVARCHAR2(100) NOT NULL,
    Quantity NUMBER NOT NULL,
    Price NUMBER(10, 2) NOT NULL,
    CONSTRAINT fk_Order FOREIGN KEY (OrderID) REFERENCES Orders(OrderID)
);

CREATE INDEX idx_CustomerEmail ON Customers(Email);
CREATE INDEX idx_OrderDate ON Orders(OrderDate);
CREATE INDEX idx_OrderID ON OrderItems(OrderID);